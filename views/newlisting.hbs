<link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />
<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js" defer></script>
<script src="/js/newlisting.js" defer></script>

<form class="container" action="/new-listing" method="POST" enctype="multipart/form-data" id="mainForm">
  <h3 class="my-4">Start selling now !</h3>
  <div class="row g-2">

    <div class="form-floating">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Title" name="title" required />
      <label for="floatingInputGrid">Title</label>
    </div>
    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Brand" name="brand" required />
      <label for="floatingInputGrid">Brand</label>
    </div>
    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Model" name="model" required />
      <label for="floatingInputGrid">Model</label>
    </div>
    <div class="fluid form-floating col-md">
      <input type="number" class="form-control" id="floatingInputGrid" placeholder="Year" name="year" required />
      <label for="floatingInputGrid">Year</label>
    </div>
    {{! DROPDOWN SELECTOR }}
    <div class="col-md">
      <div class="form-floating">
        <select class="form-select" id="floatingSelectGrid" aria-label="Floating label select example" name="condition">
          <option selected>Used</option>
          <option value="New">New</option>
          <option value="As good as new">As good as new</option>
          <option value="Used">Used</option>
          <option value="Poor condition">Poor condition</option>
        </select>
        <label for="floatingSelectGrid">Condition</label>
      </div>
    </div>
  </div>

  <div class="input-group mb-3 my-2">
    <span class="input-group-text">â‚¬</span>
    <input type="number" class="form-control" aria-label="Amount (to the nearest dollar)" placeholder="Selling price" name="price" required />
    <span class="input-group-text">.00</span>
  </div>
  {{! TEXT AREA }}
  <div class="mb-3">
    <label for="validationTextarea" class="form-label my-2">Describe your product:</label>
    <textarea class="form-control" id="validationTextarea" data-mdb-showcounter="true" maxlength="500" placeholder="Required example textarea" required name="description"></textarea>
    <div class="invalid-feedback">
      Please enter a message in the textarea.
    </div>
  </div>
  <div class="row g-2 mb-1">
    <h5 class="my-2">Additional informations</h5>
    <div class="fluid form-floating col-md g-2 my-2">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="frameSize" />
      <label for="floatingInputGrid">Frame Size</label>
    </div>

    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="motorType" />
      <label for="floatingInputGrid">Motor Type</label>
    </div>

    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="batteryCapacity" />
      <label for="floatingInputGrid">Battery Capacity</label>
    </div>

    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="wheelSize" />
      <label for="floatingInputGrid">Wheel Size</label>
    </div>
  </div>
  <div class="row g-2 mt-1">
    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="maxSpeed" />
      <label for="floatingInputGrid">Max. Speed</label>
    </div>
    <div class="fluid form-floating col-md">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="range" />
      <label for="floatingInputGrid">Distance range</label>
    </div>
    <div class="fluid form-floating col-md mb-2">
      <input type="text" class="form-control" id="floatingInputGrid" placeholder="Tile" name="gears" />
      <label for="floatingInputGrid">Gears</label>
    </div>
    <input type="hidden" name="postedBy" value="{{userInSession._id}}" />
  </div>

  {{!-- <div class="mb-3 dropzone" id="imageUpload">

  </div> --}}

  {{!-- <div class="mb-3">
    <input type="file" class="form-control" aria-label="file example" name="image" required multiple />
    <div class="invalid-feedback">Example invalid form file feedback</div>
  </div> --}}

  <input type="hidden" name="image" id="imageInput">

</form>

<form action="/api/upload" class="dropzone" id="imageUpload"></form>

<div class="mb-3">
  <button class="btn btn-primary" type="submit" id="submitButton">Submit form</button>
</div>
